<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Code-specific loaders &mdash; pynbody 0.30 documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootswatch-3.1.0/spacelab/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.30',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="pynbody 0.30 documentation" href="index.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-38063425-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          pynbody</a>
        <span class="navbar-text navbar-version pull-left"><b>0.30</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Sections <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">Welcome</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/tutorials.html">Tutorials &amp; walkthroughs</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference/index.html">Reference</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Code-specific loaders</a><ul>
<li><a class="reference internal" href="#tipsy">tipsy</a></li>
<li><a class="reference internal" href="#gadget">gadget</a></li>
<li><a class="reference internal" href="#gadgethdf">gadgethdf</a></li>
<li><a class="reference internal" href="#nchilada">nchilada</a></li>
<li><a class="reference internal" href="#ramses">ramses</a></li>
<li><a class="reference internal" href="#id13">grafic</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="code-specific-loaders">
<span id="loaders"></span><h1>Code-specific loaders<a class="headerlink" href="#code-specific-loaders" title="Permalink to this headline">¶</a></h1>
<p><cite>Pynbody</cite> uses a number of different modules behind the scenes to take
care of loading files in different formats. Unfortunately not all of
these have the same capabilities; see below.</p>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="10%" />
<col width="17%" />
<col width="10%" />
<col width="17%" />
<col width="36%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Filetype</th>
<th class="head">Can load?</th>
<th class="head">Partial loading?</th>
<th class="head">Can save?</th>
<th class="head">Array-level save?</th>
<th class="head">Notes</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Tipsy</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>Gadget</td>
<td>Yes</td>
<td>No <a class="footnote-reference" href="#id8" id="id1">[1]</a></td>
<td>Yes</td>
<td>Yes</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>GadgetHDF</td>
<td>Yes</td>
<td>No <a class="footnote-reference" href="#id8" id="id2">[1]</a></td>
<td>No</td>
<td>No</td>
<td><a class="footnote-reference" href="#id9" id="id3">[2]</a></td>
</tr>
<tr class="row-odd"><td>Ramses</td>
<td>Yes</td>
<td>No <a class="footnote-reference" href="#id8" id="id4">[1]</a></td>
<td>No</td>
<td>No</td>
<td><a class="footnote-reference" href="#id10" id="id5">[3]</a>, <a class="footnote-reference" href="#id11" id="id6">[4]</a></td>
</tr>
<tr class="row-even"><td>NChilada</td>
<td>Yes</td>
<td>Yes</td>
<td>No</td>
<td>No</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>GrafIC</td>
<td>Yes</td>
<td>Yes</td>
<td>No</td>
<td>No</td>
<td><a class="footnote-reference" href="#id12" id="id7">[5]</a></td>
</tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id8" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td><em>(<a class="fn-backref" href="#id1">1</a>, <a class="fn-backref" href="#id2">2</a>, <a class="fn-backref" href="#id4">3</a>)</em> Currently these modules do not support the standard partial
loading mechanism. However they do allow you to load only certain
CPU outputs. For instance if you wish to load CPU 3 data only, in
<cite>Gadget</cite> or <cite>GadgetHDF</cite>, you simply ask to load the
specific file <cite>my_snapshot.003</cite> instead of the imaginary file
<cite>my_snapshot</cite>. In <cite>Ramses</cite>, you add <cite>cpus=[3]</cite> to your load
command, e.g. <tt class="docutils literal"><span class="pre">pynbody.load('output_00080',</span> <span class="pre">cpus=[3])</span></tt>.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id9" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[2]</a></td><td>Requires the <cite>h5py</cite> python module. You can determine whether
you have this by typing <tt class="docutils literal"><span class="pre">import</span> <span class="pre">h5py</span></tt> into python. If you don&#8217;t
get an error, you have it. If you don&#8217;t have it, see here
&lt;<a class="reference external" href="http://www.h5py.org">http://www.h5py.org</a>&gt;</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id10" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id5">[3]</a></td><td>Ramses gas cells are loaded and converted into <cite>gas</cite> particles,
one at the centre of each maximally refined cell. You can ask to
generate the particles at a higher level of refinement by passing
in a <cite>maxlevel</cite> argument. For example,
<tt class="docutils literal"><span class="pre">pynbody.load('output_00080',</span> <span class="pre">maxlevel=10)</span></tt> will place gas
particles at refinement level 10 or (numerically) lower.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id11" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id6">[4]</a></td><td><p class="first">Ramses loading is enormously speeded up if you enable the
parallel loading facility, which splits the task of loading the
multiple files and decoding the awkward format across multiple
processes. To do this, you need to install the <a class="reference external" href="http://semanchuk.com/philip/posix_ipc/">posix_ipc</a> module which should be
as simple as typing <tt class="docutils literal"><span class="pre">easy_install</span> <span class="pre">posix_ipc</span></tt> into your
shell. Then, update your configuration; for instance, create a
<tt class="docutils literal"><span class="pre">.pynbodyrc</span></tt> file in your home directory with the following
section:</p>
<div class="highlight-none"><div class="highlight"><pre>[ramses]
parallel-read: 4
</pre></div>
</div>
<p>This specifies 4 processes. You can experiment with this number to
see what works best on your system, which depends on a combination
of CPU and IO performance.</p>
<p class="last">Note that many systems limit the amount of shared memory available,
which can cause problems once you enable parallel-reading. See
<a class="reference internal" href="pitfalls.html#pitfall-ramses-sharedmem"><em>our separate note on this issue</em></a>.</p>
</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id12" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id7">[5]</a></td><td>These are initial conditions generated by Bertschinger&#8217;s
<a class="reference external" href="http://web.mit.edu/edbert/">GrafIC</a> or Prunet et al&#8217;s <a class="reference external" href="ftp://ftp.iap.fr/pub/from_users/prunet">MPGrafIC</a>.</td></tr>
</tbody>
</table>
<p>The end-user rarely needs to worry about the implementation of
different loaders, as all types of simulations are loaded with
<tt class="xref py py-func docutils literal"><span class="pre">pynbody.load()</span></tt> and the type is determined automatically.</p>
<span class="target" id="module-pynbody.snapshot.tipsy"></span><div class="section" id="tipsy">
<h2>tipsy<a class="headerlink" href="#tipsy" title="Permalink to this headline">¶</a></h2>
<p>Implements classes and functions for handling tipsy files.  You rarely
need to access this module directly as it will be invoked
automatically via pynbody.load.</p>
<p><strong>Input</strong>:</p>
<p><em>filename</em>: file name string</p>
<p><strong>Optional Keywords</strong>:</p>
<p><em>paramfile</em>: string specifying the parameter file to load. If not
specified, the loader will look for a file <cite>*.param</cite> in the current and
parent directories.</p>
</div>
<span class="target" id="module-pynbody.snapshot.gadget"></span><div class="section" id="gadget">
<h2>gadget<a class="headerlink" href="#gadget" title="Permalink to this headline">¶</a></h2>
<p>Implements classes and functions for handling gadget files; you rarely
need to access this module directly as it will be invoked
automatically via pynbody.load.</p>
</div>
<span class="target" id="module-pynbody.snapshot.gadgethdf"></span><div class="section" id="gadgethdf">
<h2>gadgethdf<a class="headerlink" href="#gadgethdf" title="Permalink to this headline">¶</a></h2>
<p>Implementation of backend reader for GadgetHDF files by Andrew Pontzen.</p>
<p>The gadget array names are mapped into pynbody array names according
to the mappings given by the config.ini section [gadgethdf-name-mapping].</p>
<p>The gadget particle groups are mapped into pynbody families according
to the mappings specified by the config.ini section [gadgethdf-type-mapping].
This can be many-to-one (many gadget particle types mapping into one
pynbody family), but only datasets which are common to all gadget types
will be available from pynbody.</p>
<p>Spanned files are supported. To load a range of files snap.0, snap.1, ... snap.n,
pass the filename &#8216;snap&#8217;. If you pass snap.0, only that particular file will
be loaded.</p>
</div>
<span class="target" id="module-pynbody.snapshot.nchilada"></span><div class="section" id="nchilada">
<h2>nchilada<a class="headerlink" href="#nchilada" title="Permalink to this headline">¶</a></h2>
<p>Implements classes and functions for handling nchilada files.  You rarely
need to access this module directly as it will be invoked
automatically via pynbody.load.</p>
</div>
<span class="target" id="module-pynbody.snapshot.ramses"></span><div class="section" id="ramses">
<h2>ramses<a class="headerlink" href="#ramses" title="Permalink to this headline">¶</a></h2>
<p>Implements classes and functions for handling RAMSES files. AMR cells
are loaded as particles. You rarely need to access this module
directly as it will be invoked automatically via pynbody.load.</p>
<p>For a complete demo on how to use RAMSES outputs with pynbody, look at
the <a class="reference external" href="http://nbviewer.ipython.org/github/pynbody/pynbody/blob/master/examples/notebooks/pynbody_demo-ramses.ipynb">ipython notebook demo</a></p>
</div>
<span class="target" id="module-pynbody.snapshot.grafic"></span><div class="section" id="id13">
<h2>grafic<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h2>
<p>Support for loading grafIC files</p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="_sources/loaders.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2011-14, pynbody team https://github.com/pynbody/pynbody/graphs/contributors.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>